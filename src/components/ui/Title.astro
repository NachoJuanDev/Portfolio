---
interface Props {
  text: string
}

const { text } = Astro.props

const normalizeText = (text: string) => {
  // Convertir a minúsculas
  text = text.toLowerCase()
  // Eliminar caracteres especiales y signos de puntuación
  text = text.replace(/[^\w\s]/g, '')
  // Reemplazar espacios con guiones
  text = text.replace(/\s+/g, '-')
  return text
}

const normalizedText = normalizeText(text)
---

<div class="flex flex-row items-center my-2">
  <code class="text-4xl mr-1">&lt;</code>
  <h2 class="flex flex-row items-center group font-bold" id={normalizedText}>
    {text}
    <a
      class="opacity-0 group-hover:opacity-100 transition-opacity text-3xl pl-1 before:content-['#']"
      href={`#${normalizedText}`}
      title={`Direct link to ${text}`}
    >
      &ZeroWidthSpace;
    </a>
  </h2>
  <div
    class="w-full ml-1 border-b-2 border-gray-800 dark:border-gray-500 border-dashed my-5"
  >
  </div>
  <code class="text-4xl">/&gt;</code>
</div>
